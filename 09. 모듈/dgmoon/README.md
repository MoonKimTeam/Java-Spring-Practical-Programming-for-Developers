# ch.09 모듈

## 모듈성

- 사람마다 모듈이라는 개념을 받아들이는 수준이 다름
- 소프트웨어 관점에서 독립성과 은닉성(사용자는 모듈의 내부 구현을 몰라도 됨)을 만족하며 연관된 코드들의 묶음
- 독립성과 은닉성 같은 특성인 모듈성을 모두 만족할 때 모듈이라고 할 수 있음
- 모듈 시스템은 연관된 코드 묶음이 모듈성을 갖출 수 있게 도와주는 시스템적인 해결책
    - 의존성 관리와 캡슐화 관리를 반드시 지원해야 함
- Angular, NestJS, 자바스크립트 모듈은 모듈 시스템이지만 자바 패키지 시스템은 모듈 시스템이 아님
    - 패키지 수준의 의존성 관리와 캡슐화 관리 기능 미지원
    - 대신 module-info.java라는 모듈 디스크립터가 존재
    - 패키지와 JAR 시스템만으로 모듈다운 모듈 만들기 어려웠기 때문에 도입

### 독립성

- 모듈이 다른 모듈이나 컴포넌트에 강하게 의존하지 않고 각 모듈을 개별적으로 수정하거나 교체 할 수 있어야 함
    - 유지보수를 용이하게 하고, 확장성을 높이고, 재사용성을 높이기 위함
- 모듈은 모듈의 하위 의존성을 어딘가에 명시함으로써 모듈의 사용법을 사용자에게 알려줄 수 있어야 함
- 연관된 코드묶음이여야 함
    - 높은 응집도 추구는 당연

### 은닉성

- 모듈 수준의 은닉성이 가능해야 함
- 은닉성 추구 이유는 '그래야 작업하기 편하기 때문'
    - 암묵적인 책임이 많아지면 개발자의 책임과 부담 커짐
- 결론적으로 모듈 수준의 인터페이스 관리가 필요함
    - 모듈의 모든 기능을 사용할수 있게된다는 으미가 아니라 모듈의 사용자는 공개된 일부 기능에만 접근 가능해야 함(사용자 영향 최소화 위해)

## 패키지 구조

### 계층 기반 구조

- 레이어드 아키텍처를 사용하는 프로젝트에서 자주 보이는 패키지 구성 방식
- 이해하기 쉽고 사용하기 쉽지만, 도메인이 눈에 들어오지 않음
- 도메인 관점의 응집도가 떨어지고 비즈니스 코드를 한 곳에 모아 보기 어려움

### 도메인 기반 구조

- 도메인 코드를 한곳으로 모음으로써 비즈니스 코드가 여기저기 산재되지 않게 됨
- 그러나, 계층이 눈에 들어오지 않는다는 문제도 있음
- 도메인 기반 구조 밑에 계층 기반 구조 사용하면 해결

- 둘 중 정답은 없음

## 패키지와 모듈

- 모듈이 추구하는 가치인 독립성과 은닉성은 소프트웨어 개발의 기본 원리이고 시스템의 복잡도를 낮추고 확장성을 높여줌
- 따라서 개발단계마다 모듈성을 따져보는 게 좋음 -> 패키지 역시 모듈처럼 사용하는 것이 필요