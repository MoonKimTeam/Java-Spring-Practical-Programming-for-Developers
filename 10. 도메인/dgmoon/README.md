# ch.10 도메인

## 소프트웨어 개발의 시작

- 도메인: 사용자들이 겪는 문제 영역
- 개발자의 역할: 고객이 겪는 문제 상황을 소프트웨어로 해결해 주는 사람
- 우리가 개발해야하는 것은 그냥 애플리케이션이 아니라 도메인 애플리케이션
    - 도메인이 무엇인지 잘 파악하고 있어야 함
- 이런 배경으로 만들어진 것이 "도메인 주도 설계"

## 애플리케이션의 본질

- 기술보다 도메인을 먼저 생각해야함
    - "이프로젝트는 스프링과 JPA를 사용하는 프로젝트"라는 반응이 나오는 설계를 피하기
    - "이프로젝트는 이런 도메인을 다루고 있네"라는 반응이 나올 수 있도록 해야 함
- 애플리케이션에서 도메인을 제외한 다른 부분은 도메인을 해결하기 위한 도구이자 수단일 뿐임
- 중요한 것은 사용자에게 어떤 형태로 비즈니스 가치를 전달할 수 있는가, 그리고 그러기 위한 도메인 분석과 도메인 설계

## 도메인 모델과 영속성 객체

- 도메인 모델과 영속성 객체(JPA 엔티티 등)는 구분해야 하는가

### 통합하기 전략

- 유사한 모델을 두 번 만들지 않아도 됨(추가로 매핑하는 메서드 필요하지 않음)
- 다만, 클래스의 책임이 제대로 눈에 들어오지 않는다는 단점
- 도메인 모델에 영속성 객체와 관련된 코드가 들어 있으며 DB 위주의 사고를 하기 쉬움
- 단일 책임 원칙을 위반(도메인 모델로서의 역할과 영속성 객체로서의 역할)

### 구분하기 전략

- 구분하기 전략을 사용할 것이라면 굳이 ORM을 사용할 이유가 없고, 그것이 구분하기 전략이 추구하는 바
- 도메인이 ORM 같은 특정 라이브러리에 의존하지 않기 위해 만들어진 전략

- 역시 두 전략 중 옳고 그른지는 확정할 수 없음
- 설계에서 발생하는 모든 문제는 트레이드오프가 존재하는 선택의 영역(은탄환은 없음)

